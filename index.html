<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DSA Visualizers & Guide</title>

  <style>
    :root{
      --bg:#06060b;
      --neon1:#7c3aed;
      --neon2:#00d4ff;
      --muted:rgba(255,255,255,0.85);
      --glass: rgba(255,255,255,0.03);
      --success:#2ee6a7;
      --card: rgba(255,255,255,0.02);
      --maxWidth: 1200px;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      font-family:Inter,Arial;
      color:white;
      background:radial-gradient(ellipse at 10% 10%, #071026 0%, var(--bg) 40%, #04040a 100%);
    }
    header{
      display:flex;
      justify-content:space-between;
      padding:14px 20px;
      border-bottom:1px solid rgba(255,255,255,0.05)
    }
    nav{display:flex;gap:12px}
    nav a{color:var(--neon2);text-decoration:none}

    main{max-width:var(--maxWidth);margin:auto;padding:18px}
    .grid{display:grid;grid-template-columns:260px 1fr;gap:18px}

    .sidebar{
      background:var(--card);
      padding:14px;
      border-radius:12px;
      height:calc(100vh - 120px);
      position:sticky;
      top:70px;
    }
    .sidebar a{
      display:block;
      padding:8px;
      margin-bottom:6px;
      color:var(--muted);
      text-decoration:none;
    }
    .sidebar a:hover{background:rgba(255,255,255,0.07)}

    .content{padding:6px;}
    section.card{
      background:var(--card);
      padding:16px;
      margin-bottom:18px;
      border-radius:12px;
    }

    h3{color:var(--neon2);margin-top:0}

    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .input{
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
      color:white;
      min-width:160px;
    }
    .btn{
      padding:10px 14px;
      border:none;
      border-radius:10px;
      background:linear-gradient(90deg,var(--neon2),var(--neon1));
      color:black;
      cursor:pointer;
      font-weight:700;
    }
    .btn.ghost{
      background:transparent;
      border:1px solid rgba(255,255,255,0.08);
      color:var(--muted)
    }

    .visual-row{
      display:flex;
      gap:10px;
      padding:12px;
      min-height:120px;
      overflow:auto;
    }

    .node{
      padding:10px 12px;
      border-radius:10px;
      background:rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.06);
      min-width:36px;
      text-align:center;
      font-weight:700;
    }
    .node.front{color:var(--success);border-color:var(--success)}
    .node.rear{color:var(--neon1);border-color:var(--neon1)}

    .stack-box{
      display:flex;
      flex-direction:column-reverse;
      align-items:center;
      gap:10px;
      min-height:180px;
    }

    .tree-canvas{min-height:220px;}
    .tree-row{display:flex;justify-content:center;gap:40px;margin-bottom:14px}
    .tree-node{
      padding:10px;
      border-radius:8px;
      background:rgba(124,58,237,0.12);
      border:1px solid rgba(255,255,255,0.05);
      width:36px;
      text-align:center;
      font-weight:700;
    }

    footer{text-align:center;color:var(--muted);margin-top:18px;padding-bottom:20px}
  </style>
</head>
<body>

<header>
  <div class="brand"><h1>DSA</h1></div>
  <nav>
    <a href="#array">Array</a>
    <a href="#stack">Stack</a>
    <a href="#queue">Queue</a>
    <a href="#tree">Tree</a>
  </nav>
</header>

<main>
  <div class="grid">
    <aside class="sidebar">
      <a href="#array">Array Visualizer</a>
      <a href="#stack">Stack Visualizer</a>
      <a href="#queue">Queue Visualizer</a>
      <a href="#tree">Tree Visualizer</a>
      <hr>
      <a href="#overview">Overview</a>
      <a href="#algorithms">Algorithms</a>
      <a href="#pseudocode">Pseudocode</a>
    </aside>

    <section class="content">
<!-- ======================= ARRAY VISUALIZER ======================= -->
<section id="array" class="card">
  <h3>Array Visualizer</h3>

  <div class="controls">
    <input id="arrayInput" class="input" 
           placeholder="Enter value or comma-separated list (1,2,3)">
    <button class="btn" onclick="arrayAdd()">Add</button>
    <button class="btn" onclick="arrayRemove()">Remove</button>
    <button class="btn ghost" onclick="arraySearch()">Search</button>
    <button class="btn ghost" onclick="arrayClear()">Clear</button>
  </div>

  <div id="arrayBox" class="visual-row"></div>
  <div id="arrayMsg" style="margin-top:6px;color:var(--muted)"></div>
</section>


<!-- ======================= STACK VISUALIZER ======================= -->
<section id="stack" class="card">
  <h3>Stack Visualizer</h3>

  <div class="controls">
    <input id="stackInput" class="input" placeholder="Enter value">
    <button class="btn" onclick="stackPush()">Push</button>
    <button class="btn" onclick="stackPop()">Pop</button>
    <button class="btn ghost" onclick="stackPeek()">Peek</button>
    <button class="btn ghost" onclick="stackClear()">Clear</button>
  </div>

  <div id="stackBox" class="stack-box"></div>
  <div id="stackMsg" style="margin-top:6px;color:var(--muted)"></div>
</section>


<!-- ======================= QUEUE VISUALIZER ======================= -->
<section id="queue" class="card">
  <h3>Queue Visualizer</h3>

  <div class="controls">
    <input id="queueInput" class="input" placeholder="Enter value">
    <button class="btn" onclick="queueEnqueue()">Enqueue</button>
    <button class="btn" onclick="queueDequeue()">Dequeue</button>
    <button class="btn ghost" onclick="queuePeek()">Peek</button>
    <button class="btn ghost" onclick="queueClear()">Clear</button>
  </div>

  <div id="queueBox" class="visual-row"></div>
  <div id="queueMsg" style="margin-top:6px;color:var(--muted)"></div>
</section>


<!-- ======================= TREE VISUALIZER ======================= -->
<section id="tree" class="card">
  <h3>Binary Tree Traversal Visualizer</h3>
  <p style="color:var(--muted);margin-top:-4px;margin-bottom:10px">
    Generate sample tree & highlight traversals.
  </p>

  <div class="controls">
    <button class="btn" onclick="treeGenerate()">Generate</button>
    <button class="btn" onclick="treeInorder()">Inorder</button>
    <button class="btn" onclick="treePreorder()">Preorder</button>
    <button class="btn" onclick="treePostorder()">Postorder</button>
    <button class="btn ghost" onclick="treeClear()">Clear</button>
  </div>

  <div id="treeCanvas" class="tree-canvas"></div>
  <div id="treeMsg" style="margin-top:6px;color:var(--muted)"></div>
</section>


<!-- ======================= INFO SECTIONS ======================= -->
<section id="overview" class="card">
  <h3>DSA Overview</h3>
  <p>Data Structures & Algorithms are foundational tools for solving problems efficiently.</p>
  <ul>
    <li>Data Structures: Arrays, Stacks, Queues, Trees, Graphs</li>
    <li>Algorithms: Searching, Sorting, Traversal</li>
    <li>Efficiency measured using Big-O Notation</li>
  </ul>
</section>

<section id="algorithms" class="card">
  <h3>Algorithms</h3>
  <ol>
    <li>Linear Search</li>
    <li>Binary Search</li>
    <li>Bubble Sort</li>
    <li>Selection Sort</li>
    <li>Insertion Sort</li>
    <li>Quick Sort</li>
    <li>Merge Sort</li>
    <li>BFS</li>
    <li>DFS</li>
    <li>Dijkstra's Algorithm</li>
  </ol>
</section>

<section id="pseudocode" class="card">
  <h3>Pseudocode</h3>
  <pre>
// Linear Search
for i = 0 to n-1
  if A[i] == key return i
return -1

// Binary Search
low = 0, high = n-1
while low <= high
  mid = (low + high) // 2
  if A[mid] == key return mid
  if A[mid] < key then low = mid+1 else high = mid-1
  </pre>
</section>
<script>
/* ---------------- Utility: message helper ---------------- */
function showMsg(id, text, t = 2200) {
  const el = document.getElementById(id);
  if (!el) return;
  el.innerText = text;
  clearTimeout(el._t);
  el._t = setTimeout(() => { if (el) el.innerText = ''; }, t);
}

/* ---------------- Array Visualizer (UNLIMITED) ---------------- */
const arrayData = [];
function renderArray() {
  const box = document.getElementById('arrayBox');
  box.innerHTML = '';
  arrayData.forEach((v, i) => {
    const d = document.createElement('div');
    d.className = 'node';
    d.textContent = v;
    if (i === 0) d.classList.add('front');
    if (i === arrayData.length - 1) d.classList.add('rear');
    box.appendChild(d);
  });
}
function arrayAdd() {
  const raw = document.getElementById('arrayInput').value.trim();
  if (!raw) { showMsg('arrayMsg', 'Type a value to add'); return; }
  const parts = raw.split(',').map(x => x.trim()).filter(Boolean);
  parts.forEach(p => arrayData.push(p));
  document.getElementById('arrayInput').value = '';
  renderArray();
  showMsg('arrayMsg', `Added ${parts.length} value(s)`);
}
function arrayRemove() {
  const raw = document.getElementById('arrayInput').value.trim();
  if (raw) {
    const idx = arrayData.indexOf(raw);
    if (idx === -1) { showMsg('arrayMsg', `Value "${raw}" not found`); return; }
    const removed = arrayData.splice(idx, 1)[0];
    document.getElementById('arrayInput').value = '';
    renderArray();
    showMsg('arrayMsg', `Removed: ${removed}`);
  } else {
    if (!arrayData.length) { showMsg('arrayMsg', 'Array empty'); return; }
    const removed = arrayData.pop();
    renderArray();
    showMsg('arrayMsg', `Popped: ${removed}`);
  }
}
function arraySearch() {
  const key = document.getElementById('arrayInput').value.trim();
  if (!key) { showMsg('arrayMsg', 'Type value to search'); return; }
  const idx = arrayData.indexOf(key);
  showMsg('arrayMsg', idx >= 0 ? `Found at index ${idx}` : 'Not found');
}
function arrayClear() {
  arrayData.length = 0; renderArray(); showMsg('arrayMsg', 'Cleared');
}
// seed
arrayData.push('1', '2', '3'); renderArray();

/* ---------------- Stack Visualizer (LIMIT = 5) ---------------- */
const STACK_LIMIT = 5;
const stack = [];
function renderStack() {
  const box = document.getElementById('stackBox');
  box.innerHTML = '';
  // show from bottom (index 0) up to top (last)
  stack.forEach((v, i) => {
    const d = document.createElement('div');
    d.className = 'node';
    d.style.minWidth = '120px';
    d.textContent = v;
    if (i === stack.length - 1) d.classList.add('rear'); // top marker
    box.appendChild(d);
  });
}
function stackPush() {
  if (stack.length >= STACK_LIMIT) {
    showMsg('stackMsg', `❌ STACK OVERFLOW — Max ${STACK_LIMIT} items`, 3000);
    return;
  }
  const v = document.getElementById('stackInput').value.trim();
  if (!v) { showMsg('stackMsg', 'Type value to push'); return; }
  stack.push(v);
  document.getElementById('stackInput').value = '';
  renderStack();
  showMsg('stackMsg', `Pushed: ${v}`);
}
function stackPop() {
  const raw = document.getElementById('stackInput').value.trim();
  if (raw) {
    // remove last occurrence of value
    const idx = stack.lastIndexOf(raw);
    if (idx === -1) { showMsg('stackMsg', `Value "${raw}" not found in stack`); return; }
    const removed = stack.splice(idx, 1)[0];
    document.getElementById('stackInput').value = '';
    renderStack();
    showMsg('stackMsg', `Removed: ${removed}`);
  } else {
    if (!stack.length) { showMsg('stackMsg', 'Stack empty'); return; }
    const r = stack.pop();
    renderStack();
    showMsg('stackMsg', `Popped: ${r}`);
  }
}
function stackPeek() {
  if (!stack.length) { showMsg('stackMsg', 'Stack empty'); return; }
  showMsg('stackMsg', `Top: ${stack[stack.length - 1]}`);
}
function stackClear() {
  stack.length = 0; renderStack(); showMsg('stackMsg', 'Cleared');
}
// seed
stack.push('A', 'B'); renderStack();

/* ---------------- Queue Visualizer (UNLIMITED) ---------------- */
const queue = [];
function renderQueue() {
  const box = document.getElementById('queueBox');
  box.innerHTML = '';
  queue.forEach((v, i) => {
    const d = document.createElement('div');
    d.className = 'node';
    d.textContent = v;
    if (i === 0) d.classList.add('front');
    if (i === queue.length - 1) d.classList.add('rear');
    box.appendChild(d);
  });
}
function queueEnqueue() {
  const v = document.getElementById('queueInput').value.trim();
  if (!v) { showMsg('queueMsg', 'Type value to enqueue'); return; }
  queue.push(v);
  document.getElementById('queueInput').value = '';
  renderQueue();
  showMsg('queueMsg', `Enqueued: ${v}`);
}
function queueDequeue() {
  const raw = document.getElementById('queueInput').value.trim();
  if (raw) {
    const idx = queue.indexOf(raw);
    if (idx === -1) { showMsg('queueMsg', `Value "${raw}" not found in queue`); return; }
    const removed = queue.splice(idx, 1)[0];
    document.getElementById('queueInput').value = '';
    renderQueue();
    showMsg('queueMsg', `Removed: ${removed}`);
  } else {
    if (!queue.length) { showMsg('queueMsg', 'Queue empty'); return; }
    const r = queue.shift();
    renderQueue();
    showMsg('queueMsg', `Dequeued: ${r}`);
  }
}
function queuePeek() {
  if (!queue.length) { showMsg('queueMsg', 'Queue empty'); return; }
  showMsg('queueMsg', `Front: ${queue[0]}`);
}
function queueClear() {
  queue.length = 0; renderQueue(); showMsg('queueMsg', 'Cleared');
}
// seed
queue.push('x', 'y'); renderQueue();

/* ---------------- Tree Visualizer ---------------- */
function TNode(v, l = null, r = null) { return { val: String(v), left: l, right: r }; }
let treeRoot = null;
function treeGenerate() {
  treeRoot = TNode(1, TNode(2, TNode(4), TNode(5)), TNode(3, TNode(6), TNode(7)));
  renderTree(); showMsg('treeMsg', 'Sample tree generated');
}
function renderTree() {
  const canvas = document.getElementById('treeCanvas');
  canvas.innerHTML = '';
  if (!treeRoot) return;
  const levels = [];
  const q = [{ n: treeRoot, l: 0 }];
  while (q.length) {
    const it = q.shift();
    if (!levels[it.l]) levels[it.l] = [];
    levels[it.l].push(it.n.val);
    if (it.n.left) q.push({ n: it.n.left, l: it.l + 1 });
    if (it.n.right) q.push({ n: it.n.right, l: it.l + 1 });
  }
  levels.forEach(row => {
    const r = document.createElement('div'); r.className = 'tree-row';
    row.forEach(v => {
      const n = document.createElement('div');
      n.className = 'tree-node';
      n.textContent = v;
      r.appendChild(n);
    });
    canvas.appendChild(r);
  });
}
function treeClear() { treeRoot = null; renderTree(); showMsg('treeMsg', 'Cleared'); }

function highlightSeq(seq) {
  const canvas = document.getElementById('treeCanvas');
  const map = {};
  canvas.querySelectorAll('.tree-node').forEach(el => {
    if (!map[el.textContent]) map[el.textContent] = [];
    map[el.textContent].push(el);
  });
  let i = 0;
  (function step() {
    if (i >= seq.length) return;
    const v = seq[i];
    const list = map[v] || [];
    const el = list.shift() || null;
    if (el) {
      const oldBg = el.style.background;
      const oldColor = el.style.color;
      el.style.background = 'linear-gradient(90deg,#ffd166,#ff8fab)';
      el.style.color = '#071026';
      el.style.transform = 'scale(1.08)';
      setTimeout(() => { el.style.background = oldBg || ''; el.style.color = oldColor || ''; el.style.transform = ''; }, 500);
    }
    i++; setTimeout(step, 600);
  })();
}
function treeInorder() {
  if (!treeRoot) { showMsg('treeMsg', 'No tree. Generate sample first'); return; }
  const seq = [];
  (function inorder(n) { if (!n) return; inorder(n.left); seq.push(n.val); inorder(n.right); })(treeRoot);
  highlightSeq(seq); showMsg('treeMsg', 'Inorder');
}
function treePreorder() {
  if (!treeRoot) { showMsg('treeMsg', 'No tree. Generate sample first'); return; }
  const seq = [];
  (function pre(n) { if (!n) return; seq.push(n.val); pre(n.left); pre(n.right); })(treeRoot);
  highlightSeq(seq); showMsg('treeMsg', 'Preorder');
}
function treePostorder() {
  if (!treeRoot) { showMsg('treeMsg', 'No tree. Generate sample first'); return; }
  const seq = [];
  (function post(n) { if (!n) return; post(n.left); post(n.right); seq.push(n.val); })(treeRoot);
  highlightSeq(seq); showMsg('treeMsg', 'Postorder');
}
// auto-generate on load
treeGenerate();

/* ---------------- Keyboard shortcuts (Enter to add) ---------------- */
document.addEventListener('DOMContentLoaded', () => {
  const arrIn = document.getElementById('arrayInput');
  const stkIn = document.getElementById('stackInput');
  const queIn = document.getElementById('queueInput');
  if (arrIn) arrIn.addEventListener('keydown', e => { if (e.key === 'Enter') arrayAdd(); });
  if (stkIn) stkIn.addEventListener('keydown', e => { if (e.key === 'Enter') stackPush(); });
  if (queIn) queIn.addEventListener('keydown', e => { if (e.key === 'Enter') queueEnqueue(); });
});
</script>

